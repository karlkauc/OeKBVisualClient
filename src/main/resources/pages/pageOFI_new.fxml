<?xml version="1.0" encoding="UTF-8"?>


<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>

<AnchorPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.OFI"
            prefHeight="750.0" prefWidth="950.0"
            style="-fx-background-color: #f5f5f5;">

    <VBox spacing="20.0" AnchorPane.topAnchor="20.0" AnchorPane.leftAnchor="20.0"
          AnchorPane.rightAnchor="20.0" AnchorPane.bottomAnchor="20.0">

        <!-- Header -->
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label text="OeNB Reporting" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
        </HBox>

        <Separator/>

        <!-- Common Input Section -->
        <VBox spacing="15.0" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 5;">
            <Label text="OeNB-ID eingeben:" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
            <TextField fx:id="oenbIdField"
                         promptText="Mehrere OeNB-IDs mit Leerzeichen oder Komma trennen"
                         prefWidth="800.0"/>

            <Label text="oder aus Datei laden:" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Button fx:id="selectFileButton"
                          text="Datei auswählen"
                          onAction="#selectFile"
                          style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                <Label fx:id="fileLabel" text="Keine Datei ausgewählt" style="-fx-text-fill: #7f8c8d;"/>
                <Button text="Löschen"
                          onAction="#clearFile"
                          style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
            </HBox>

            <HBox spacing="20.0" alignment="CENTER_LEFT">
                <VBox spacing="5.0">
                    <Label text="Datum:"/>
                    <DatePicker fx:id="datePicker" prefWidth="200.0"/>
                </VBox>
                <Label fx:id="statusLabel" text="Bereit" style="-fx-text-fill: #2c3e50; -fx-font-size: 14px;"/>
            </HBox>
        </VBox>

        <!-- Tabs for different OeNB modes -->
        <TabPane VBox.vgrow="ALWAYS" style="-fx-background-color: white;">

            <!-- Tab 1: Aggregierung -->
            <Tab text="OeNB Aggregierung" closable="false">
                <VBox spacing="15.0" style="-fx-padding: 20;">
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <CheckBox fx:id="excludeInvalidAgg" text="Nur valide Daten (excludeinvalid)"/>
                    </HBox>

                    <HBox spacing="15.0" alignment="CENTER_LEFT">
                        <Button fx:id="downloadAggButton"
                                  text="Aggregierung Download"
                                  onAction="#downloadAggregierung"
                                  style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30;">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Button>
                        <ProgressIndicator fx:id="progressAgg" prefWidth="30.0" prefHeight="30.0"/>
                    </HBox>

                    <VBox spacing="10.0" VBox.vgrow="ALWAYS">
                        <Label text="Ergebnis (XML):" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                        <TextArea fx:id="resultAggTextArea"
                                    VBox.vgrow="ALWAYS"
                                    prefHeight="350.0"
                                    editable="false"
                                    style="-fx-font-family: 'Courier New'; -fx-font-size: 12px;"/>
                    </VBox>
                </VBox>
            </Tab>

            <!-- Tab 2: SecBySec -->
            <Tab text="OeNB SecBySec" closable="false">
                <VBox spacing="15.0" style="-fx-padding: 20;">
                    <HBox spacing="10.0" alignment="CENTER_LEFT">
                        <CheckBox fx:id="excludeInvalidSec" text="Nur valide Daten (excludeinvalid)"/>
                    </HBox>

                    <HBox spacing="15.0" alignment="CENTER_LEFT">
                        <Button fx:id="downloadSecButton"
                                  text="SecBySec Download"
                                  onAction="#downloadSecBySec"
                                  style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30;">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Button>
                        <ProgressIndicator fx:id="progressSec" prefWidth="30.0" prefHeight="30.0"/>
                    </HBox>

                    <VBox spacing="10.0" VBox.vgrow="ALWAYS">
                        <Label text="Ergebnis (XML):" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                        <TextArea fx:id="resultSecTextArea"
                                    VBox.vgrow="ALWAYS"
                                    prefHeight="350.0"
                                    editable="false"
                                    style="-fx-font-family: 'Courier New'; -fx-font-size: 12px;"/>
                    </VBox>
                </VBox>
            </Tab>

            <!-- Tab 3: Check -->
            <Tab text="OeNB Check" closable="false">
                <VBox spacing="15.0" style="-fx-padding: 20;">
                    <VBox spacing="10.0">
                        <Label text="Filter:" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                        <HBox spacing="15.0">
                            <RadioButton fx:id="validAll" text="Alle">
                                <toggleGroup>
                                    <ToggleGroup fx:id="validGroup"/>
                                </toggleGroup>
                            </RadioButton>
                            <RadioButton fx:id="validTrue" text="Nur valide" toggleGroup="$validGroup"/>
                            <RadioButton fx:id="validFalse" text="Nur invalide" toggleGroup="$validGroup"/>
                        </HBox>
                    </VBox>

                    <HBox spacing="15.0" alignment="CENTER_LEFT">
                        <Button fx:id="downloadCheckButton"
                                  text="Check Download"
                                  onAction="#downloadCheck"
                                  style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 30;">
                            <font>
                                <Font name="System Bold" size="14.0"/>
                            </font>
                        </Button>
                        <ProgressIndicator fx:id="progressCheck" prefWidth="30.0" prefHeight="30.0"/>
                    </HBox>

                    <VBox spacing="10.0" VBox.vgrow="ALWAYS">
                        <Label text="Ergebnis (XML):" style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                        <TextArea fx:id="resultCheckTextArea"
                                    VBox.vgrow="ALWAYS"
                                    prefHeight="350.0"
                                    editable="false"
                                    style="-fx-font-family: 'Courier New'; -fx-font-size: 12px;"/>
                    </VBox>
                </VBox>
            </Tab>

        </TabPane>

    </VBox>
</AnchorPane>
